<ion-modal-view>
	
	<ion-header-bar class="bar bar-header bar-positive">
	<button class="button button-clear button-primary" ng-click="closeNewChatModal()">Cancel</button>
	  <h1 class="title" style="text-align: center;">New Private Chat</h1>
	 <button class="button button-clear button-small button-icon ion-ios-search pull-right"  ng-click="search()"></button> 
	</ion-header-bar>

	<div class="bar bar-positive bar-header item-input-inset" ng-if="showSearch">
      <label class="item-input-wrapper">
        <i class="icon ion-ios-search placeholder-icon"></i>
        <input type="search" placeholder="Search Modules" ng-model="searchItem.item">
      </label>
        <button class="button button-clear" ng-click="search()">
          Cancel
        </button>
      </div>
    </div>

	<ion-content class="scroll-content ionic-scroll">
	   	<ion-list ng-if="!searchItem.item || searchItem.item == '' ">

	       	<ion-item ng-click="toggleQuery(lecturers)"
	            ng-class="{active: isQueryShown(lecturers)}">
				<i class="icon" ng-class="isQueryShown(lecturers) ? 'ion-chevron-down' : 'ion-chevron-right'"></i>
					Lecturers
			</ion-item>		
	           <ion-list class="lecturer-list" class="item-accordion" ng-show="isQueryShown(lecturers)" item-text-wrap>
			        <ion-item ng-click="goToChat1(lecturer)" ng-repeat="lecturer in lecturers.list track by $index">
			        {{lecturer.User.Name}}
			        </ion-item>
		      </ion-list>
		      <ion-item ng-click="toggleQuery(tutors)"
	            ng-class="{active: isQueryShown(tutors)}">
				<i class="icon" ng-class="isQueryShown(tutors) ? 'ion-chevron-down' : 'ion-chevron-right'"></i>
					Tutors and Teaching Assistants
			</ion-item>		
	           <ion-list class="tutor list" class="item-accordion" ng-show="isQueryShown(tutors)" item-text-wrap>
			        <ion-item ng-click="goToChat1(tutor)" ng-repeat="tutor in tutors.list track by $index">
			        {{tutor.User.Name}}
			        </ion-item>
			       
		      </ion-list>
		     <ion-item ng-click="toggleQuery(tutorial)"
	            ng-class="{active: isQueryShown(tutorial)}" >
				<i class="icon" ng-class="isQueryShown(tutorial) ? 'ion-chevron-down' : 'ion-chevron-right'"></i>
					Tutorial Group			
			</ion-item>		
	           <ion-list class="class list" class="item-accordion" ng-show="isQueryShown(tutorial)" item-text-wrap>
			        <ion-item ng-click="goToChat1(peer)" ng-repeat="peer in tutorial.list track by $index" ng-show="peer.Name!==userName">
			        {{peer.Name}}
			        </ion-item>
		      </ion-list>
		       <ion-item ng-click="toggleQuery(classRoster)"
	            ng-class="{active: isQueryShown(classRoster)}" >
				<i class="icon" ng-class="isQueryShown(classRoster) ? 'ion-chevron-down' : 'ion-chevron-right'"></i>
					Class Roster			
			</ion-item>		
	           <ion-list class="class list" class="item-accordion" ng-show="isQueryShown(classRoster)" item-text-wrap>
			        <ion-item ng-click="goToChat1(peer)" ng-repeat="peer in classRoster.list track by $index" ng-show="peer.Name!==userName">
			        {{peer.Name}}
			        </ion-item>
		      </ion-list>

		 </ion-list>   

		  <ion-list class="item-text-wrap" ng-if="!(!searchItem.item || searchItem.item == '')">
			    <ion-item ng-click="goToChat1(contact)" ng-repeat="contact in contacts | filter: searchItem.item " ng-show="contact.Name!==userName">
			        {{contact.Name || contact.User.Name}}
			    </ion-item>			       
		    </ion-list>  

	</ion-content>
	</ion-modal-view>
